// @version=6
// This script is free and open source.
// It is intended for educational purposes only.
// It is not financial advice.

indicator(title="Baseline", shorttitle="Baseline", overlay=true)

// 1. INPUTS
// Get the lookback period from the user. This determines how many bars to look back
// when finding the highest and lowest prices.
lookback = input.int(20, "Lookback Period", minval=1, tooltip="Number of bars to use for calculating the highest high and lowest low.")

// 2. CALCULATIONS
// Find the highest high price over the specified lookback period.
highestHigh = ta.highest(high, lookback)

// Find the lowest low price over the specified lookback period.
lowestLow = ta.lowest(low, lookback)

// Calculate the baseline, which is the midpoint of the highest high and lowest low.
// This represents the center of the recent trading range.
baseline = (highestHigh + lowestLow) / 2

// 3. PLOTTING
// Draw the baseline on the chart.
plot(baseline, "Baseline", color=color.new(color.blue, 25), linewidth=2)
